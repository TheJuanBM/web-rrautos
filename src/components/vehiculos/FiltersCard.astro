---
import type { Marca } from '../../types'
import BrandSelector from '../BrandSelector.astro'

interface Props {
  marcas: Marca[]
}

const { marcas } = Astro.props
---

<section class="catalog__filters" aria-label="Filtros de búsqueda">
  <div class="filters-card">
    <header>
      <p class="filters-eyebrow">Filtrar resultados</p>
      <h1 id="catalog-title">Encuentra la marca ideal</h1>
      <p>
        El inventario se actualiza a diario con unidades exclusivas. Empieza eligiendo la marca que prefieres y descubre
        las opciones disponibles.
      </p>
    </header>

    <div class="filters-control">
      <BrandSelector marcas={marcas} />
    </div>

    <footer>
      <p>¿No encuentras la marca que buscas? Escríbenos y la rastreamos por ti.</p>
      <a class="filters-link" href="https://wa.me/51987654321" rel="noopener">Solicitar búsqueda personalizada</a>
    </footer>
  </div>
</section>

<style>
  .catalog__filters .filters-card {
    background: rgba(var(--color-white-rgb), 0.95);
    border-radius: 1.5rem;
    border: 1px solid rgba(var(--color-gray-400-rgb), 0.25);
    padding: clamp(1.25rem, 3.5vw, 2rem);
    display: grid;
    gap: 1.25rem;
    box-shadow: 0 24px 48px -32px rgba(var(--color-primary-rgb), 0.4);
  }

  .filters-card header {
    display: grid;
    gap: 0.55rem;
    max-width: 34rem;
  }

  .filters-card h1 {
    font-size: clamp(2rem, 5vw, 2.8rem);
  }

  .filters-card h2 {
    font-size: clamp(1.6rem, 3vw, 2rem);
  }

  .filters-card p {
    margin: 0;
    color: var(--color-gray-600);
    line-height: 1.7;
  }

  .filters-control {
    display: grid;
    gap: 0.75rem;
  }

  .filters-card footer {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    font-size: 0.92rem;
    color: var(--color-gray-600);
  }

  .filters-link {
    color: var(--color-primary-hover);
    font-weight: 600;
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    gap: 0.35rem;
  }

  .filters-link::after {
    content: '↗';
    font-size: 0.85rem;
  }

  @media (max-width: 900px) {
    .catalog__filters .filters-card {
      padding: clamp(1.2rem, 4vw, 1.7rem);
    }

    .filters-card header {
      gap: 0.45rem;
    }

    .filters-card footer {
      flex-direction: column;
      align-items: flex-start;
    }

    .filters-link {
      width: auto;
      justify-content: flex-start;
    }
  }

  @media (max-width: 640px) {
    .catalog__filters .filters-card {
      border-radius: 1.15rem;
      gap: 0.9rem;
    }

    .filters-card h1,
    .filters-card h2 {
      font-size: clamp(1.6rem, 6vw, 2rem);
    }

    .filters-card footer {
      gap: 0.6rem;
    }
  }

  @media (max-width: 480px) {
    .catalog__filters .filters-card {
      padding: clamp(1.05rem, 6vw, 1.4rem);
      gap: 0.75rem;
    }

    .filters-card h1,
    .filters-card h2 {
      font-size: clamp(1.4rem, 7vw, 1.85rem);
    }

    .filters-card footer p {
      font-size: 0.9rem;
    }

    .filters-link {
      width: 100%;
      justify-content: center;
    }
  }
</style>
